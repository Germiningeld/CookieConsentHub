// Импорт переменных и миксинов
@import 'variables'
@import 'mixins'

// Стили оверлея
.cookie-consent-overlay
  position: fixed
  top: 0
  left: 0
  right: 0
  bottom: 0
  background: var(--cookie-consent-overlay-color, rgba(0, 0, 0, 0.5))
  backdrop-filter: blur(var(--cookie-consent-blur, 5px))
  -webkit-backdrop-filter: blur(var(--cookie-consent-blur, 5px))
  z-index: var(--cookie-consent-overlay-z-index, 9998)
  display: none

// Основные стили
.cookie-consent
  position: fixed
  z-index: var(--cookie-consent-z-index, 9999)
  background: #fff
  color: #333
  opacity: 0
  visibility: hidden
  transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out
  width: 90%
  max-width: var(--cookie-consent-max-width, 500px)
  border-radius: var(--cookie-consent-border-radius, 12px)
  box-shadow: var(--cookie-consent-box-shadow, 0 4px 20px rgba(0, 0, 0, 0.15))
  top: 50%
  left: 50%
  transform: translate(-50%, -50%)

  // Верхнее и нижнее модальное окно
  &--top,
  &--bottom
    left: 0
    right: 0
    width: 100%
    max-width: 100%
    border-radius: 0
    box-shadow: none
    transform: none
    padding: 0
    margin: 0

    .cookie-consent__content
      padding: 12px 20px
      display: flex
      align-items: center
      justify-content: space-between
      gap: 20px
      width: 100%
      max-width: 1200px
      margin: 0 auto
      box-sizing: border-box
      position: relative

    .cookie-consent__text
      flex: 1
      min-width: 0
      margin-right: 20px
      padding-right: 40px

    .cookie-consent__title
      margin: 0 0 4px
      font-size: 1.1rem
      line-height: 1.3

    .cookie-consent__description
      margin: 0
      font-size: 0.9rem
      line-height: 1.4

    .cookie-consent__buttons
      flex-direction: row
      gap: 10px
      margin: 0
      flex-shrink: 0
      display: flex
      align-items: center
      padding-right: 40px

    .cookie-consent__button
      padding: 8px 16px
      font-size: 0.9rem
      white-space: nowrap

    .cookie-consent__link
      padding: 8px 16px
      font-size: 0.9rem
      white-space: nowrap

    .cookie-consent__close-button
      position: absolute
      top: 50%
      right: 20px
      transform: translateY(-50%)
      margin: 0
      flex-shrink: 0
      z-index: 1

  &--top
    top: 0
    border-bottom: 1px solid rgba(0, 0, 0, 0.1)

  &--bottom
    top: auto
    bottom: 0
    border-top: 1px solid rgba(0, 0, 0, 0.1)

  &--visible
    opacity: 1
    visibility: visible

  &--secondary
    max-width: 400px

    .cookie-consent__buttons
      flex-direction: column
      gap: 12px

  &__content
    padding: 30px

  &__title
    margin: 0 0 15px
    font-size: 1.5rem
    font-weight: 600
    color: #333

  &__description
    margin: 0 0 25px
    font-size: 1rem
    line-height: 1.6
    color: #666

  &__categories
    display: none
    margin-bottom: 20px
    padding: 20px
    background: rgba(0, 0, 0, 0.02)
    border-radius: 8px

    &--visible
      display: block

  &__category
    margin-bottom: 15px

    &:last-child
      margin-bottom: 0

  &__checkbox
    display: flex
    align-items: center
    cursor: pointer

    input[type="checkbox"]
      margin-right: 10px

  &__category-title
    font-weight: 500
    margin-bottom: 5px

  &__category-description
    font-size: 0.9rem
    color: #666

  &__buttons
    display: flex
    flex-direction: column
    gap: 12px

  &__button
    padding: 12px 20px
    border: none
    border-radius: 8px
    font-size: 1rem
    font-weight: 500
    cursor: pointer
    transition: all 0.2s ease
    text-align: center

    &--all
      background: #007bff
      color: #fff

      &:hover
        background: #0056b3

    &--necessary
      background: #f5f5f5
      color: #333

      &:hover
        background: #e0e0e0

    &--selected
      background: #f5f5f5
      color: #333

      &:hover
        background: #e0e0e0

    &--close
      background: #f5f5f5
      color: #333

      &:hover
        background: #e0e0e0

    &--settings
      background: rgba(0, 0, 0, 0)
      color: #007bff
      border: 1px solid #007bff

      &:hover
        background: rgba(0, 123, 255, 0.1)

  &__link
    color: #666
    text-decoration: none
    font-size: 1rem
    font-weight: 500
    padding: 12px 20px
    border-radius: 8px
    transition: all 0.2s ease

    &:hover
      color: #333
      text-decoration: underline

    &--settings
      margin-left: 0

  &__close-button
    position: absolute
    top: 15px
    right: 15px
    width: 24px
    height: 24px
    padding: 0
    border: none
    background: none
    cursor: pointer
    color: #666
    transition: color 0.2s ease

    &:hover
      color: #333

    &::before,
    &::after
      content: ''
      position: absolute
      top: 50%
      left: 50%
      width: 16px
      height: 2px
      background: currentColor
      transform-origin: center

    &::before
      transform: translate(-50%, -50%) rotate(45deg)

    &::after
      transform: translate(-50%, -50%) rotate(-45deg)

// Темная тема
.cookie-consent--dark
  background: #333
  color: #fff
  border-color: #444

  .cookie-consent__categories
    background: rgba(255, 255, 255, 0.05)

  .cookie-consent__button
    &--necessary
      background: #444
      color: #fff

      &:hover
        background: #555

    &--settings
      color: #fff
      border-color: #fff

      &:hover
        background: rgba(255, 255, 255, 0.1)

// Адаптивность
@media (max-width: 768px)
  // Стили для баннеров
  .cookie-consent--top,
  .cookie-consent--bottom
    .cookie-consent__content
      flex-direction: column
      align-items: flex-start
      gap: 12px
      padding: 12px 15px

    .cookie-consent__text
      margin-right: 0
      width: 100%
      padding-right: 30px

    .cookie-consent__buttons
      width: 100%
      margin: 0
      flex-direction: column
      padding-right: 0

    .cookie-consent__button,
    .cookie-consent__link
      width: 100%
      text-align: center

    .cookie-consent__close-button
      position: absolute
      top: 12px
      right: 12px
      transform: none
      margin: 0

  // Стили для центрированного модального окна
  .cookie-consent:not(.cookie-consent--top):not(.cookie-consent--bottom)
    width: 95%

    .cookie-consent__content
      padding: 20px

// Анимации
@keyframes fadeIn
  from
    opacity: 0
  to
    opacity: 1

@keyframes slideUp
  from
    transform: translateY(100%)
  to
    transform: translateY(0)

@keyframes slideDown
  from
    transform: translateY(-100%)
  to
    transform: translateY(0)

.cookie-consent
  // Анимации
  &--fade
    animation: fadeIn 0.3s ease-in-out

  &--slide
    &[class*="--top"]
      animation: slideDown 0.3s ease-in-out
    &[class*="--bottom"]
      animation: slideUp 0.3s ease-in-out

  // Позиционирование
  &--top
    top: 0
    bottom: auto
    transform: none !important

  &--bottom
    top: auto
    bottom: 0
    transform: none !important

  // ... rest of the styles ...

// Стили для блокировки скроллинга
body.cookie-consent-no-scroll
  overflow: hidden
  padding-right: var(--cookie-consent-scrollbar-width, 0px) 